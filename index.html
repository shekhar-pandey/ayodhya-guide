<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ayodhya Guide - Welcome to the Holy City</title>
    <!-- GitHub Pages deployment trigger -->
    <meta name="description" content="Discover the sacred temples, historical sites, and cultural attractions of Ayodhya, the birthplace of Lord Rama.">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="static/favicon.ico" type="image/x-icon">
    <!-- Leaflet.js CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <!-- Leaflet.fullscreen CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet.fullscreen@2.4.0/Control.FullScreen.css" crossorigin=""/>
</head>
<body>
    <header class="header">
        <nav class="navbar">
            <div class="nav-brand">
                <h1>Ayodhya Guide</h1>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link active">Home</a></li>
                <li><a href="about.html" class="nav-link">About</a></li>
                <li><a href="#contact" class="nav-link">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main class="main-content">
        <section class="hero-section">
            <div class="hero-content">
                <h2>Welcome to Ayodhya</h2>
                <p>The sacred city where Lord Rama was born, a place of divine spirituality and ancient heritage</p>
                <div class="search-container">
                    <input type="text" id="searchInput" placeholder="Search attractions, temples, or places..." class="search-input">
                    <button id="searchBtn" class="search-btn">Search</button>
                </div>
            </div>
        </section>

        <section class="attractions-section">
            <div class="container">
                <h3>Popular Attractions</h3>
                <div class="filters">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="temple">Temples</button>
                    <button class="filter-btn" data-filter="historical">Historical</button>
                    <button class="filter-btn" data-filter="cultural">Cultural</button>
                </div>
                <div id="attractionsGrid" class="attractions-grid">
                    <!-- Attractions will be loaded here dynamically -->
                </div>
            </div>
        </section>

        <section class="map-section">
            <div class="container">
                <h3>Interactive Map</h3>
                <p class="map-description">Explore Ayodhya's sacred sites and plan your pilgrimage route</p>
                <div class="map-container">
                    <div id="map" class="map"></div>
                    <div class="map-controls">
                        <button id="resetMap" class="map-btn">Reset Map</button>
                        <button id="showAll" class="map-btn">Show All</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="contact-section">
            <div class="container">
                <h3>Contact Us</h3>
                <div class="contact-content">
                    <div class="contact-info">
                        <h4>Get in Touch</h4>
                        <p>Have questions about Ayodhya? Want to share your experience?</p>
                        <div class="contact-details">
                                    <p><strong>Email:</strong> abcxyzsp9@gmail.com</p>
        <p><strong>Phone:</strong> +91 9997457651</p>
                            <p><strong>Address:</strong> Ayodhya, Uttar Pradesh, India</p>
                        </div>
                    </div>
                    <form class="contact-form" method="POST" id="homeContactForm">
                        <input type="text" name="name" placeholder="Your Name" required>
                        <input type="email" name="email" placeholder="Your Email" required>
                        <textarea name="message" placeholder="Your Message" rows="5" required></textarea>
                        <button type="submit" class="submit-btn">Send Message</button>
                        <div id="homeFormStatus" class="form-status"></div>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>© 2025 Ayodhya Guide | Images courtesy of UP Tourism & District Ayodhya</p>
        </div>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="https://unpkg.com/leaflet.fullscreen@2.4.0/Control.FullScreen.js"></script>
    <script src="js/main.js"></script>
    
    <script>
        // Homepage contact form handling with custom backend
        document.getElementById('homeContactForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const form = this;
            const submitBtn = form.querySelector('button[type="submit"]');
            const statusDiv = document.getElementById('homeFormStatus');
            
            // Show loading state
            submitBtn.disabled = true;
            submitBtn.textContent = 'Sending...';
            statusDiv.innerHTML = '<p class="status-loading">Sending your message...</p>';
            
            // Get form data
            const formData = new FormData(form);
            const data = {
                name: formData.get('name'),
                email: formData.get('email'),
                message: formData.get('message')
            };
            
            // Send to local backend
            fetch('/api/contact', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            })
            .then(response => {
                if (response.ok) {
                    return response.json();
                } else {
                    throw new Error('Network response was not ok');
                }
            })
            .then(data => {
                statusDiv.innerHTML = '<p class="status-success">✅ Thank you! Your message has been sent successfully. We\'ll get back to you soon!</p>';
                form.reset();
            })
            .catch(error => {
                console.error('Error:', error);
                statusDiv.innerHTML = '<p class="status-error">❌ Sorry, there was an error sending your message. Please try again or contact us directly at abcxyzsp9@gmail.com</p>';
            })
            .finally(() => {
                submitBtn.disabled = false;
                submitBtn.textContent = 'Send Message';
            });
        });
    </script>
</body>
</html>
